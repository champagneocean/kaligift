:root{
    --ink:#0b0b0c;
    --muted:#6b6b73;
    --line:rgba(0,0,0,.12);
    --pink:#ff3ea6;
    --pink2:#ffd1ea;
    --bg:#ffffff;
  }
  
  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    color:var(--ink);
    background:var(--bg);
  }
  
  .page{
    position:relative;
    min-height:100%;
    display:grid;
    place-items:center;
    padding: 28px 18px;
  }
  
  /* Degradados laterales suaves */
  .sideGlow{
    position:fixed;
    top:-20%;
    width:46vw;
    height:140vh;
    pointer-events:none;
    z-index:0;
  }
  .sideGlow.left{
    left:-24vw;
    background: radial-gradient(closest-side at 55% 45%,
      rgba(255,62,166,.16) 0%,
      rgba(255,62,166,.08) 34%,
      rgba(255,62,166,0) 72%);
  }
  .sideGlow.right{
    right:-24vw;
    background: radial-gradient(closest-side at 45% 55%,
      rgba(255,62,166,.14) 0%,
      rgba(255,62,166,.07) 34%,
      rgba(255,62,166,0) 72%);
  }
  
  .center, .open{
    position:relative;
    z-index:1;
    width:min(900px, 92vw);
    text-align:center;
  }
  
  .title{
    margin:0 0 10px;
    font-size: 30px;
    letter-spacing:-0.02em;
    font-weight: 750;
  }
  .subtitle{
    margin:0 0 28px;
    color:var(--muted);
    font-size: 15px;
  }
  
  .giftBtn{
    border:0;
    background:transparent;
    padding:0;
    cursor:pointer;
    user-select:none;
    touch-action:manipulation;
  }
  .giftSvg{ display:block; margin:0 auto; }
  
  .tapMsg{
    margin: 14px 0 10px;
    color:var(--muted);
    font-size: 14px;
  }
  
  .progressWrap{
    display:flex;
    gap: 10px;
    justify-content:center;
    align-items:center;
    color:var(--muted);
    font-size: 13px;
  }
  .bar{
    width:min(360px, 70vw);
    height:2px;
    background: rgba(0,0,0,.08);
    border-radius:999px;
    overflow:hidden;
    position:relative;
  }
  .bar > i{
    position:absolute; inset:0 auto 0 0;
    width:0%;
    background: rgba(0,0,0,.72);
    transition: width 180ms ease;
  }
  .count{ min-width: 42px; text-align:left; }
  
  /* Animaciones regalo */
  .lid{
    transform-origin: 86px 88px;
    transition: transform 700ms cubic-bezier(.2,.9,.2,1);
  }
  .opened .lid{
    transform: translate(-18px,-18px) rotate(-24deg);
  }
  
  .crack{
    fill:none;
    stroke: rgba(0,0,0,.9);
    stroke-width: 1.9;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;
    stroke-dasharray: 240;
    stroke-dashoffset: 240;
    transition: opacity 120ms ease, stroke-dashoffset 160ms ease; /* üëà m√°s r√°pido */
  }
  .crack.on{
    opacity: .85;
    stroke-dashoffset: 0;
  }
  
  .shake{ animation: shake 140ms linear; }
  @keyframes shake{
    0%{transform:translate(0,0) rotate(0)}
    25%{transform:translate(-1px,1px) rotate(-.5deg)}
    50%{transform:translate(1px,-1px) rotate(.5deg)}
    75%{transform:translate(-1px,-1px) rotate(-.25deg)}
    100%{transform:translate(0,0) rotate(0)}
  }
  
  /* Open view */
  .hero{
    margin: 6px auto 18px;
  }
  .openTitle{
    margin:0 0 8px;
    font-size: 34px;
    letter-spacing:-0.03em;
    font-weight: 800;
  }
  .openSub{
    margin:0 0 18px;
    color:var(--muted);
    font-size: 14px;
  }
  
  .photo{
    margin: 0 auto 18px;
    width: min(720px, 92vw);
    border-radius: 22px;
    overflow:hidden;
  }
  .photo{
    margin: 0 auto 18px;
    width: min(720px, 92vw);
    border-radius: 22px;
    overflow: hidden;
    background: #fff; /* para que no se vea raro si sobra espacio */
  }
  
  .photo img{
    width: 100%;
    height: auto;          /* üëà no fuerza recorte */
    max-height: 52vh;      /* controla el tama√±o sin cortar */
    object-fit: contain;   /* üëà muestra completa */
    display: block;
  }
  
  /* Ticket (√∫nico cuadro) */
  .ticket{
    width: min(680px, 92vw);
    margin: 0 auto;
    text-align:left;
    border: 1px solid rgba(0,0,0,.16);
    border-radius: 20px;
    padding: 18px;
    background: linear-gradient(180deg, rgba(255,62,166,.07), rgba(255,255,255,0));
  }
  
  .ticketTop{
    display:flex;
    justify-content:space-between;
    gap:10px;
    margin-bottom: 12px;
  }
  .tag{
    display:inline-flex;
    align-items:center;
    padding: 6px 10px;
    border-radius: 999px;
    background: rgba(0,0,0,.04);
    border: 1px solid rgba(0,0,0,.10);
    font-size: 12px;
    color: var(--muted);
  }
  
  .ticketTitle{
    font-size: 22px;
    letter-spacing:-0.02em;
    font-weight: 750;
  }
  .artist{ color: var(--pink); font-weight: 900; }
  
  .ticketGrid{
    margin-top: 12px;
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    color: var(--muted);
    font-size: 13px;
  }
  .ticketGrid div{
    padding: 10px 12px;
    border-radius: 14px;
    background: rgba(0,0,0,.03);
    border: 1px solid rgba(0,0,0,.06);
  }
  .ticketGrid span{ display:block; font-size:12px; }
  .ticketGrid b{ color: var(--ink); font-weight: 800; }
  
  .ticketBottom{
    margin-top: 14px;
    padding: 14px 14px;
    border-radius: 16px;
    background: rgba(255,62,166,.12);           /* rosa suave */
    border: 1px solid rgba(255,62,166,.22);
    display: grid;
    gap: 10px;
  }
  
  .bottomMsg{
    font-size: 13px;
    color: rgba(0,0,0,.78);
    font-weight: 600;
  }
  
  .bottomRow{
    display:block; /* en vez de flex */
  }
  .playlistBtn{
    display:flex;
    align-items:center;
    justify-content:center;
    width: 100%;                 /* üëà full width */
    padding: 14px 16px;
    border-radius: 14px;
    background: var(--pink);     /* üëà rosado */
    color: #fff;
    text-decoration:none;
    font-weight: 800;
    letter-spacing:.01em;
    border: 1px solid rgba(0,0,0,.08);
    box-shadow: 0 10px 24px rgba(255,62,166,.25);
  }

  .playlistBtn:hover{
    filter: brightness(.97);
  }

  .playlistBtn:active{
    transform: translateY(1px);
  }

  .tiny{
    color: rgba(0,0,0,.60);   /* m√°s legible sobre rosa */
    font-size: 12px;
  }

  .progressWrap{
    display: none !important;
  }
  
  .reset{
    margin-top: 18px;
    border:0;
    background:transparent;
    color: var(--ink);
    text-decoration: underline;
    text-underline-offset: 4px;
    cursor:pointer;
    font-size: 14px;
  }
  
  @media (max-width:640px){
    .ticketGrid{ grid-template-columns: 1fr; }
    .openTitle{ font-size: 30px; }
  }

  /* Transici√≥n entre secciones (regalo -> boleta) */
#preOpen{
    transition: opacity 420ms ease, transform 420ms ease, filter 420ms ease;
    will-change: opacity, transform, filter;
  }
  
  #open{
    opacity: 0;
    transform: translateY(14px);
    transition: opacity 520ms ease, transform 520ms ease;
    will-change: opacity, transform;
  }
  
  /* Al abrir: se desvanece la pantalla del regalo */
  .opening #preOpen{
    opacity: 0;
    transform: scale(.985);
    filter: blur(2px);
  }
  
  /* Al mostrar: entra la boleta/foto */
  .opened #open{
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Peque√±o ‚Äúpop‚Äù del regalo justo al abrir */
  .opening .giftSvg{
    animation: giftPop 520ms cubic-bezier(.2,.9,.2,1) both;
  }
  @keyframes giftPop{
    0%   { transform: scale(1); }
    40%  { transform: scale(1.04); }
    100% { transform: scale(.96); opacity: .0; }
  }
  
  /* Reduce motion */
  @media (prefers-reduced-motion: reduce){
    #preOpen, #open{ transition:none !important; }
    .opening .giftSvg{ animation:none !important; }
  }
  
  #open{
    opacity: 0;
    transform: translateY(14px);
    transition: opacity 700ms ease, transform 700ms ease;
    will-change: opacity, transform;
  }
  
  /* Cuando se abre: fade-in suave */
  .opened #open{
    opacity: 1;
    transform: translateY(0);
  }
  
  /* (Opcional) fade-out del regalo para que no se sienta brusco */
  #preOpen{
    transition: opacity 420ms ease, transform 420ms ease, filter 420ms ease;
    will-change: opacity, transform, filter;
  }
  .opening #preOpen{
    opacity: 0;
    transform: scale(.985);
    filter: blur(2px);
  }